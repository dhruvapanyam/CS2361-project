{% extends 'index.html' %}
{% block content %}

<div class="container egg-white">
    <div class="row">
        <form class="col s12" id="reg-form" action="/register" method="post">
            <div class="row">
                <div class="input-field col s12">
                    <input id="name" type="text" class="validate" name="name" required>
                    <label for="name">Name</label>
                </div>
            </div>
            <div class="row">
                <div class="input-field col s12">
                    <input id="username" type="text" class="validate" name="username" required>
                    <label for="username">Username</label>
                </div>
            </div>
            <div class="row">
                <div class="input-field col s12">
                    <input id="password" type="password" class="validate" minlength="6" name="password" required>
                    <label for="password">Password</label>
                </div>
            </div>

            <div class="row">
                <div class="input-field col s12">
                    <input id="location" type="text" class="validate" name="location" required>
                    <label for="location">Location</label>
                </div>
            </div>

            <div class="row">
                <div class="input-field col s12">
                    <input id="certificate" type="text" class="validate" name="certificate" value="null">
                    <label for="certificate">Organic Certification ID</label>
                </div>
            </div>
            <div class="row">
                <div class="input-field col s6">
                    <div class="radio">
                        <label for="manufacturer">
                            <input name="role" id="manufacturer" type="radio" value="manufacturer"
                                onchange="assignRole(this)" required />
                            <span>Manufacturer</span>
                        </label>
                    </div>
                    <div class="role">
                        <label for="farmer">
                            <input name="role" type="radio" id="farmer" value="farmer" onchange="assignRole(this)"
                                checked required />
                            <span>Farmer</span>
                        </label>
                    </div>
                    <div class="role">
                        <label for="vendor">
                            <input name="role" type="radio" id="vendor" value="vendor" onchange="assignRole(this)"
                                required />
                            <span>Vendor</span>
                        </label>
                    </div>
                </div>



                <div class="input-field col s6">
                    <button class="btn btn-large btn-register waves-effect grey darken-3" type="submit"
                        name="action">Register
                        <i class="material-icons right">done</i>
                    </button>
                </div>
            </div>
        </form>
    </div>
    <a title="Login" href="/login" class="ngl btn-floating btn-large waves-effect waves-light grey darken-3"><i
            class="material-icons">input</i></a>
</div>


<script>
    // $(document).ready(function() {
    //     $('select').material_select();
    //   });
    // // var role = document.querySelector('input[name=role]:checked').value;
    // // var role = document.getElementsByName('role').value;
    var role;

    function assignRole(e) {
        role = e.value;
        console.log(role);
        if (role == 'farmer') {
            document.getElementById("certificate").style.display = "block";
            document.querySelector('label[for="certificate"]').style.display = "block";
        }
        else {
            document.getElementById("certificate").style.display = "none";
            document.querySelector('label[for="certificate"]').style.display = "none";
        }
    }

// var form = document.querySelector("form");
// console.log(role);

</script>



<style>
    .container {
        background: white;
        padding: 20px 25px;
        border: 5px solid #5c5c5c;
        width: 550px;
        height: auto;
        box-sizing: border-box;
        position: relative;
    }

    .col.s6>.btn {
        width: 100%;
    }

    radio:required {
        border-color: red;
    }

    input[type="radio"] {
        -webkit-appearance: radio;
    }

    .container {
        animation: showUp 0.5s cubic-bezier(0.18, 1.3, 1, 1) forwards;
    }

    @keyframes showUp {
        0% {
            transform: scale(0);
        }

        100% {
            transoform: scale(1);
        }
    }

    .row {
        margin-bottom: 10px;
    }

    .ngl {
        position: absolute;
        top: -20px;
        right: -20px;
    }
</style>


{% endblock %}